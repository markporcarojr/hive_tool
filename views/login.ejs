<%- include("partials/header")%>
<%- include("partials/navbar")%>

<div class="container d-flex justify-content-center mb-0 px-0">
    <img
        src="/static/images/hive_tool@1x.png"
        alt=""
        srcset="
            /static/images/hive_tool@1x.png 400w,
            /static/images/hive_tool@2x.png 800w,
            /static/images/hive_tool@3x.png 1200w
        "
        sizes="
            (max-width: 500px) 80vw,
            (max-width: 700px) 50vw,
            33vw
        "
    />
</div>

<div class="container d-flex justify-content-center">
    <div class="form-group text-center">
        <form action="/login" method="post">
            <div class="form-group text-center">
                <input type="email" autocomplete="on" id="login-email" name="email" class="my-2 form-control fw-bold text-center bg-inputgrey rounded-pill border-michgold border-3" placeholder="Email...">
                <input type="password" id="login-password" name="password" class="my-2 form-control fw-bold text-center bg-inputgrey rounded-pill border-michgold border-3" placeholder="Password...">
                <a href="/signup" class="d-block text-center fs-4 text-michgold">Create Account</a>
            </div>

            <div class="container d-flex justify-content-center mt-3">
                <button type="submit" class="btn px-5 m-3 mb-2 mt-1 btn-michgold btn-gold rounded-pill">LOGIN</button>
            </div>
        </form>
    </div>
</div>

<div class="container d-flex justify-content-center">
  <a  class="btn px-5 m-3 mb-2 mt-1 btn-michgold btn-gold rounded-pill" id="guestLoginBtn">Log in as Guest</a>
</div>



<footer class="text-center mt-5">
    <div class="container d-flex flex-column align-items-center">
        <!-- Social Media Icons -->
        <div class="d-flex gap-2 mt-1">
            <a href="http://www.facebook.com" class="text-dark">
                <i class="fab fa-facebook fa-2x"></i>
            </a>

            <a href="http://www.instagram.com" class="text-dark">
                <i class="fab fa-instagram fa-2x"></i>
            </a>
        </div>

        <!-- Copyright -->
        <div class="text-dark">
            <p class="mb-0">
                Â© <span id="currentYear"></span> Copyright:
                <a href="https://marks-bees.netlify.app/#/" class="text-dark">Porcaro Farms</a>
            </p>
            <div>
                <a href="/privacy-policy" class="text-dark">Privacy Policy</a>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/static/functions.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const apiKey = "<%= process.env.WEATHER_KEY %>";
        checkWeather(apiKey);
    });

    const currentYear = new Date().getFullYear();
    document.getElementById("currentYear").textContent = currentYear;
    document.getElementById('guestLoginBtn').addEventListener('click', async (event) => {
    event.preventDefault();

    try {
        const response = await fetch('/guest-login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({}) // Empty body for guest login
        });

        if (response.ok) {
            const data = await response.json();
            console.log(data.message); // Log the response message
            // Optionally handle further actions after successful guest login
        } else {
            console.error('Guest login failed');
            // Handle error case
        }
    } catch (error) {
        console.error('Guest login error:', error);
        // Handle fetch or other errors
    }
});


    
</script>

</body>
</html>
